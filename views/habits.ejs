<!DOCTYPE html>
<html lang="en">
 <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Habits - Grove</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" class="star">
    <link rel="stylesheet" href="/habits.css">
</head>
<body>
    <nav>
    <div class="off-screen-menu" role="navigation">
        <span class="material-symbols-outlined close-icon" role="button" aria-label="Close menu">close</span>
        <ul>
            <li id="current-page"> <span class="material-symbols-outlined" aria-hidden="true">checklist</span> <a href="/habits" aria-label="Link to habits page">Habits</a> </li>
            <li> <span class="material-symbols-outlined" aria-hidden="true">leaderboard</span> <a href="/leaderboard" aria-label="Link to leaderboard page"></a>>Leaderboard</a> </li>
            <li> <span class="material-symbols-outlined" aria-hidden="true"> account_circle</span> <a href="/profile" aria-label="Link to profile page"></a>>Profile</a> </li>
        </ul>
    </div>
    </nav>
    <div class="points-rectangle" aria-label="Your points">
        <div class="tooltip">
            <span class="material-icons star" aria-hidden="true">star</span>
            <span id="points-display"><%= points %></span>
            <span class="tooltiptext">Check off habits to earn points.</span>
        </div>
    </div>
    <div class="popup" id="popup">
        <form action="#" method="POST" id="add-habit-form" aria-label="Add a new habit">
            <label for="new_habit" aria-label="New habit name" aria-required="true">
                New habit name:
                <br>
            </label>
            <input type="text" id="new_habit" name="new_habit">
            <br>
            <br>
            <label for="new_habit_details" aria-label="Details or description of your habit" aria-required="true">
                Details or description of your habit:
                <br>
            </label>
            <input type="text" id="new_habit_details" name="new_habit_details">
            <br>
            <br>
            <label for="how_often_habit" aria-label="How many times daily will you do your habit?" aria-required="true">
                How many times daily will you do your habit?
                <br>
            </label>
            <input type="number" id="how_often_habit" name="how_often_habit">
            <br>
            <button type="submit" onclick="closePopup()" id="add-habit-button" aria-label="Submit habit button">OK</button>
            <br>
        </form>
    </div>
    <span class="material-symbols-outlined menu-icon" role="button" aria-label="Menu">menu</span>   
    <header> 
    <h1>Your Habits</h1>
    </header>
    <main>
    <div class="center-wrapper">
        <div class="icon-container-add" onclick="openPopup()" role="button" aria-label="Add a new habit" role="button">
            <span class="material-symbols-outlined add-icon" role="button">add</span>
            <p>Add Habit</p>
        </div>
        <div id="habitsContainer" aria-label="Your habits">
        </div>
        </div>
    </div>
    </main>
    <div id="notification" aria-hidden="true" role="alert">
    </div>
    <script>
        const userHabits = <%- JSON.stringify(habits || []) %>;
    </script>
          <script src="/js/ham-menu.js"></script>
          <script src="/js/popup.js"></script>
          <script src="/js/client.js"></script>   
</body>
</html>
